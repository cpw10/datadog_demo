(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{21:function(L,p){const s={lang:"",env:document.documentElement.dataset.env,getLanguage:function(){const c=document.querySelector("html").lang;return s.lang||(c==="ja"?(s.lang="japanese",s.lang_code="ja"):c==="es"?(s.lang="spanish",s.lang_code="es"):(s.lang="english",s.lang_code="")),s.lang},get_baseurl:function(){let c="";this.env==="preview"&&(c=window.location.pathname.slice(1,-1).split("/").slice(0,2).join("/"));const{origin:m}=window.location;return`${m}/${c}`}};L.exports={ddc:s}},32:function(L,p,s){"use strict";s.d(p,"b",function(){return c}),s.d(p,"a",function(){return m});const c=()=>{const v=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Windows Phone/i.test(navigator.userAgent),f=window.matchMedia("only screen and (max-width: 767px)").matches;let S=!1;return(v||f)&&(S=!0),S},m=()=>/Android/i.test(navigator.userAgent)},91:function(L,p,s){"use strict";s.r(p),s.d(p,"getAppBaseUrl",function(){return l}),s.d(p,"handleSignupFormEmailOnlySignUpLpg",function(){return U});var c=s(10),m=s.n(c),v=s(21),f=s(26),S=s(32),T=s(9),D=s(60),B={dd_datacenter:{us1:"United States (US1)",us3:"United States (US3)",us5:"United States (US5)",eu:"Europe (EU1)",ap1:"AP1","us1-fed":"United States (US1-FED) - FedRAMP Moderate Authorized"}},E=s(29);const M=!0,u=document.querySelector(".js-signup-frame-lpg"),h=document.querySelector(".js-signup-frame");let K=!1;const R=document.body.classList.contains("aws-microsite")||document.body.classList.contains("aws-reinvent"),{tags:d,layout:C,region:w}=document.querySelector("html").dataset,A=d&&d.toLowerCase().includes("aws"),j=d&&d.toLowerCase().includes("azure"),y=d&&d.toLowerCase().includes("google-cloud"),b=d&&d.toLowerCase().includes("govcloud"),F=C&&C.includes("short-form"),q=document.querySelectorAll(".sign-up-trigger"),x=document.querySelectorAll(".signup-modal"),O=()=>{let e="",t="";return document.documentElement.lang?e=document.documentElement.lang:e=v.ddc.lang,e==="fr"||e==="es"||e==="de"||e==="ja"||e==="ko"?t=`lang=${e}`:t="",t},i=e=>{let t=e,n=t.includes("?")?"&":"?";const a=new URL(window.location.href).searchParams;O()&&(t+=`${n}${O()}`,n="&"),Object(S.b)()&&!F&&(t+=`${n}mobile=true`,n="&");const J=E.a.getAll();let Q=["gclid","MSCLKID","_mkto_trk"];for(const[$,g]of Object.entries(J))Q.includes($)&&(t+=`${n}${$}=${encodeURIComponent(g)}`,n="&");let I=!1;if(a.forEach(($,g)=>{g.startsWith("utm")&&(I=!0,t+=`${n}${`dd-${g.replace("_","-")}`}=${encodeURIComponent($)}`,n="&")}),!I){const $=E.a.getAll();for(const[g,k]of Object.entries($))g.includes("dd-utm")&&(t+=`${n}${g}=${encodeURIComponent(k)}`,n="&")}return t},r=(e,t)=>{if(e&&e.src===""){e.src=t;let n=()=>{let o=t.replace("_corp","");window.open(o);const a=document.querySelector("#signup-modal > div > div > div.modal-body");a.innerHTML=`<div class="text-center small w-100 my-3 px-2">Signup Form loading error. <a href="${o}" class="text-underline" target=_blank>Click here</a> to open in a new window</div>`};t.indexOf(".eu")!==-1&&!document.getElementById("TxFnCdowUQWB")&&n()}},l=e=>{const t=document.querySelector("#dd-region-select");if(t&&(t.value=e),e){if(e==="eu")return"app.datadoghq.eu";if(e==="us1-fed")return"app.ddog-gov.com";if(["us3","us5","ap1"].includes(e))return`${e}.datadoghq.com`}return"app.datadoghq.com"},H=()=>{let e="",t="",n="true",o="&event_v2=true";document.querySelector(".clean-center-false")&&(n="false"),(document.querySelector(".event-v2-false")||F)&&(o=""),M?A?(e=`https://${l("us1")}/signup_corp?clean_center=${n}${o}`,t=i(e),r(u,t)):j||w==="us3"?(e=`https://${l("us3")}/signup_corp?clean_center=${n}${o}`,t=i(e),r(u,t)):y&&w==="eu"?(e=`https://${l("eu")}/signup_corp?clean_center=${n}${o}`,t=i(e),r(u,t)):y?(e=`https://${l("us5")}/signup_corp?clean_center=${n}${o}`,t=i(e),r(u,t)):b?(e=`https://${l("us-fed1")}/signup_corp?clean_center=${n}${o}`,t=i(e),r(u,t)):Object(f.a)().then(a=>{e=`https://${l(a.appRegion)}/signup_corp?lang=${document.documentElement.lang}&clean_center=${n}${o}`,t=i(e),r(u,t)}):(e=`https://${l()}/signup_corp?clean_center=${n}${o}`,t=i(e),r(u,t))},P=()=>{let e="",t="";M?A||w==="us1"?(e=`https://${l("us1")}/signup_corp`,t=i(e),r(h,t)):b?(e=`https://${l("us1-fed")}/signup_corp`,t=i(e),r(h,t)):j?(e=`https://${l("us3")}/signup_corp`,t=i(e),r(h,t)):y||w==="us5"?(e=`https://${l("us5")}/signup_corp`,t=i(e),r(h,t)):Object(f.a)().then(n=>{e=`https://${l(n.appRegion)}/signup_corp`,t=i(e),r(h,t)}):(e=`https://${l()}/signup_corp`,t=i(e),r(h,t))},W=()=>{const e=document.querySelector("#dd-region-select");if(e){for(const[t,n]of Object.entries(B.dd_datacenter)){const o=document.createElement("option");o.value=t,o.innerHTML=n,e.appendChild(o)}e.addEventListener("change",t=>{U(t.target.value)}),U()}else U()},U=e=>{let t="";const n=document.querySelector("#signupModal form.js-signup-form");n&&(e?t=`https://${l(e)}/signup/process`:M?A?t=`https://${l("us1")}/signup/process`:j?t=`https://${l("us3")}/signup/process`:y?t=`https://${l("us5")}/signup/process`:b?t=`https://${l("us1-fed")}/signup/process`:Object(f.a)().then(o=>{t=`https://${l(o.appRegion)}/signup/process`,n.setAttribute("action",t)}):t=`https://${l()}/signup/process`,n.setAttribute("action",t))},z=e=>{if(e.eventCategory&&e.eventAction&&e.eventLabel){const t=v.ddc.env==="live"?"corpProd":"corpPreview";typeof ga!="undefined"&&window.ga(`${t}.send`,"event",e.eventCategory,e.eventAction,window.location.pathname)}};q.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),Object(D.a)().then(n=>{if(n){const o=document.querySelector("#signupDemo"),a=o?new m.a(o):null;a&&a.show(e)}else{const o=document.querySelector("#signup-modal"),a=o?new m.a(o):null;a&&a.show(e)}window.dataLayer&&window.dataLayer.push({event:"signup-clicked"})})})}),x.forEach(e=>{e.addEventListener("show.bs.modal",t=>{const n=t.relatedTarget.dataset;let o={};for(const a in n)o[a]=n[a];P(),z(o),window.__adroll&&window.__adroll.record_user({adroll_segments:"a925a4d1"})})});const G=()=>{Object(f.a)(),W(),u?H():R&&P()};Object(T.a)(G)}}]);

//# sourceMappingURL=appSignup.7a45ff0ab99c352d19d6.js.map